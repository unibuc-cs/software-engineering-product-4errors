# üé¨ MovieMingle

## üìñ Description
MovieMingle is a web application that recommends movies to users based on their preferences. The app enhances the viewing experience through predictions using machine learning techniques. With an easy-to-use interface and a modern, attractive design, MovieMingle becomes the ideal partner for film enthusiasts looking for new movies that suit their tastes. Whether you prefer dramas, comedies, or thrillers, the app will provide recommendations that meet your expectations.

## üë• Team
### Team Name: **4errors**
- [Lungu Laura](https://github.com/LVanesa)
- [Negoi»õƒÉ-Cretu Raluca](https://github.com/ncraluca)
- [PopeangƒÉ Antonia](https://github.com/antoniapopeanga)
- [Popa Jasmine](https://github.com/jasminepopa3)


## üåü Product Vision
‚ñé**FOR** - For people passionate about the world of cinematography.

‚ñé**WHO** - The users who are looking for new movies tailored to their unique preferences.

‚ñé**PRODUCT NAME** - MovieMingle is a web app designed to provide movie recommendations. 

‚ñé**THAT** - Our app is a user-friendly tool for those times when you feel like you've run out of movies to watch.

‚ñé**UNLIKE** - Unlike other platforms that do not provide personalized movie recommendations.

‚ñé**OUR PRODUCT** - Our app provides customized movie suggestions based on your individual preferences, making it easy to find what to watch next.


## üìñ User Stories

- [ ] **As a** potential user, **I want** to create a personal account on the platform, **so that** I can use this application.

- [ ] **As a** user, **I want** to login to my MovieMingle account, **so that** I can access my profile. 

- [ ] **As a** new user, **I want** an intuitive interface, **so that** I can navigate quickly through the app.

- [ ] **As a** user, **I want** to browse through the movie collection, **so that** I can explore them. 

- [ ] **As a** casual movie watcher, **I want** to check the movies I have already watched, **so that** I could further review them.

- [ ] **As a** registered user, **I want** to rate movies after watching them, **so that** the app can provide recommendations in the future.

- [ ] **As a** user, **I want** to be able to edit my watched list, **so that** I can prevent possible mistakes.

- [ ] **As a** user, **I want** to be able to edit my reviews, **so that** I can update them if I change my mind. 

- [ ] **As a** cinephile, **I want** to ask for personalized movie recommendations, **so that** I can easily find films that match my unique taste.
     
- [ ] **As a** user, **I want** a comprehensive analytics dashboard, **so that** I can have an insight into my movie watching habits . 


## üìã Requirements

### User Story: As a potential user, I want to create a personal account on the platform, so that I can use this application.
**Requirements:**
* Implement a "Sign Up" button on the landing page.
* Create a registration form with fields for username, email, password, and any other necessary information.
* Validate user input and provide feedback for errors.

### User Story: As a user, I want to login to my MovieMingle account, so that I can access my profile.
**Requirements:**
* Implement a "Login" button on the landing page.
* Create a login form with fields for email and password.
* Validate user credentials and provide feedback for incorrect logins.

### User Story: As a new user, I want an intuitive interface, so that I can navigate quickly through the app.
**Requirements:**
* Design a user-friendly interface with clear navigation menus and icons.
* Conduct usability testing to ensure intuitive navigation.

### User Story: As a user, I want to browse through the movie collection, so that I can explore them.
**Requirements:**
* Display a searchable and filterable movie collection on the movie page.
* Implement filters for genres and other attributes.
* Allow users to view movie details upon selection.

### User Story: As a casual movie watcher, I want to check the movies I have already watched, so that I could further review them.
**Requirements:**
* Create a "Watched Movies" page in the user menu.
* Display a list of movies with titles, ratings, etc.
* Provide options to view details or edit the watched list.

### User Story: As a registered user, I want to rate movies after watching them, so that the app can provide recommendations in the future.
**Requirements:**
* Allow users to rate movies on a scale (e.g., 1 to 5 stars).
* Implement a system to record and save ratings associated with user profiles.
* Use ratings to influence future movie recommendations.

### User Story: As a user, I want to be able to edit my watched list, so that I can prevent possible mistakes.
**Requirements:**
* Implement an "Edit" option for each movie in the "Watched Movies" section.
* Allow users to add or remove movies from the watched list.

### User Story: As a user, I want to be able to edit my reviews, so that I can update them if I change my mind.
**Requirements:**
* Allow users to access their reviews from the movie profile.
* Implement an "Edit Review" option to modify existing reviews.
* Save updated reviews and display them correctly.

### User Story: As a cinephile, I want to ask for personalized movie recommendations, so that I can easily find films that match my unique taste.
**Requirements:**
* Implement a recommendation algorithm based on user preferences and ratings.
* Provide a page for recommended movies.

### User Story: As a user, I want a comprehensive analytics dashboard, so that I can have an insight into my movie watching habits.
**Requirements:**
* Design an analytics dashboard that summarizes viewing statistics (e.g., genres watched, time spent).
* Implement an "Update" button that allows users to refresh the analytics data on demand.


## üß© Product Features

<div align="center">

| Feature              | Functionalities                                                                 |
|----------------------|----------------------------------------------------------------------------------|
| **Account**          | - Create<br>- Login/Logout<br>- Delete                                          |
| **Landing Page**     | - Look up movie content<br>- Navigate through menu<br>- Explore recommended/randomized movie list |
| **Movie Profile**    | - Create a movie profile<br>- Add/Edit rating of the movie                      |
| **Watched Movie List** | - Add new watched movies<br>- Open a movie profile<br>- Browse through movie list<br>- Filter based on movie genres |
| **To-Watch Movie List** | - Add any movie from the database<br>- Delete movie from the list<br>- Browse through movie list<br>- Transfer movie from to-watch to watched list<br>- Filter based on movie genres |
| **Recommended Movie List** | - Filter based on movie genres<br>- Add a movie to the to-watch list<br>- Browse through movie list<br>- Press "Surprise Me" button<br>- Filter based on other users' ratings |
| **Surprise Me Page** | - Discover new movie<br>- Add the movie to the to-watch list                    |
| **Movie Preferences Dashboard Page** | - View analyzed ranked movie preferences by genre <br> - Track viewing time <br> - Explore personalized insights |

</div>


## üìä UML Diagrams
### Use Case Diagram
![Use Case Diagram](/Diagrams/moviemingle_use_case_diagram.png)
<br>
### Class Diagram
![Class Diagram](/Diagrams/moviemingle_class_diagram.png)

## üìÉ Scenarios

### üå± Valentina
Valentina is 28, a vegan activist in her free time, and works as a barista at Ototo on Victoriei Street. She‚Äôs also passionate about cinema and dislikes the capitalist concepts of big platforms like Netflix or HBO. However, she wishes for an easy-to-use, high-performing tool that can suggest films when she runs out of ideas, with recommendations that fit her unique tastes. That‚Äôs when she discovers **MovieMingle**, an app that puts the user first and focuses on their needs rather than following the principles of a profit-driven society. Now, Valentina can enjoy discovering new films weekly without contributing to the financing of unethical companies.

---

### üë®‚Äçüë¶ Flavius
Flavius wants to spend more time with his grandfather, Gigel, while staying with him during winter break. What better way to bond than watching a movie together! Unfortunately, Flavius realizes he has no idea what to pick, and with Gigel being too old to know the latest popular films, they need another way to find a suitable recommendation. Luckily, Flavius heard from classmates about **MovieMingle**, an app that provides film suggestions based on unique preferences! Even better, MovieMingle allows users to filter recommended movies by genre, ensuring they can find a family-friendly, PG-13 option. Thanks to MovieMingle, Flavius and his grandfather can enjoy a cozy movie night together by the warmth of the fireplace.

---

### üíª Alin
Alin is a third-year student at the Faculty of Mathematics and Computer Science, feeling stressed with his thesis and part-time corporate job. Since stress makes him less productive, he wants to unwind with a movie to forget about the struggles of student life. He tries to browse Netflix but feels overwhelmed by the number of options, and with his mind elsewhere, he doesn‚Äôt have the patience to pick a movie on his own. Then, a great idea pops up: "I‚Äôve heard about **MovieMingle!** I can just go there and see what it recommends based on my viewing history. I don‚Äôt have to waste time searching or risk picking a film I won‚Äôt like. And if I‚Äôm in the mood for something unusual, I can let it surprise me with a completely random movie!" Thanks to MovieMingle, Alin‚Äôs evening is saved, bringing him a moment of calm along with a hot coffee and cheesy, salted popcorn.

---

### üò° Marcel
Maricica, a 40-year-old woman, had an argument with her husband, Marcel, 48, sending him to sleep on the couch. Wanting to tune out her husband‚Äôs loud snores, she decides to watch something that aligns with her comfort zone. This way, she can quickly focus on the movie‚Äôs action, and the background noise fades out. But how can she do this without wasting time searching for a movie when she can barely concentrate on picking one? With **MovieMingle**, she doesn‚Äôt have to do anything‚Äîthe app suggests movies that can help drown out the unpleasant, noisy moments in life! (Plus, it recommends comforting movies to relax to on the couch.)

---

### üçï Marnela
Marnela, a single mother with three kids, struggles daily with household chores, especially cooking for her family. One evening, while preparing dinner, her youngest child starts crying uncontrollably. As she tries to soothe him, she smells something burning from the kitchen. Panicking, she rushes to the stove to find that two hours of work have gone to waste. After a minor breakdown, she calls Domino's for pizza, planning a family movie night instead. But which movie would be suitable to keep her kids entertained? She texts her cousin, who recommends **MovieMingle**‚Äîa tool to discover personalized movies that she can filter by genre. Marnela feels overjoyed; now she can finally relax on the couch and enjoy a captivating movie night with her family.

## üìÜ Backlog

You can view the project backlog on GitHub by clicking [here](https://github.com/orgs/unibuc-cs/projects/12).

## ‚è≥ Prioritized Backlog

| No. | Task Description                                                                                              | Priority | Estimated Time |
|-----|---------------------------------------------------------------------------------------------------------------|----------|----------------|
| 1   | Create a basic Spring Boot project                                                                            | High     | November         |
| 2   | Create a database                                                                                             | High     | November         |
| 3   | Create a register/login page and implement the register/login functionalities                                  | High     | end of November        |
| 4   | Implement CRUD for movies and implement CRUD for reviews                                                      | High     | December        |
| 5  | Implement the ML algorithm                                                                                    | High      | December        |
| 6   | Create landing page for users and create a personal profile page                                             | Medium   | December        |
| 7   | Create a navigation bar and create a menu for logged users                                                   | Medium   | end of December         |
| 8   | Create the view for movie recommendations and implement filtering options for the movies lists               | Medium   | end of December        |
| 9   | Implement the "Surprise Me" functionality and create a dedicated Surprise Me page                            | Medium   | January        |
| 10   | Enable adding movies from the Surprise Me section to the to-watch list and enable adding movies from the to-watch list to the watched list | Medium   | January         |
| 11  | Create the dashboard analytics page and implement dashboard analytics functionalities                         | Low      | January        |
| 12  | Create a prototype design in Figma and implement the design                                                  | Low      | January        |
| 13  | Ensure responsiveness functionality for the design and create a logo for our app                             | Low      | January         |


## üèõÔ∏è Architectural Description  
### üîß Technologies used

###  Backend 
- **Spring Boot Framework**: Core Java framework powering the application architecture through controllers (HTTP request handling), services (business logic), and models (data structure)

- **MySQL**: Local database system storing application data, working with JPA Repository for streamlined database operations without complex SQL queries

- **Security Implementation**: 
 - JWT (JSON Web Tokens) for secure authentication and session management
 - CSRF protection against malicious attacks 
 - Google OAuth2 integration for Google account sign-in functionality

### Data Management 
- **Data Transfer Objects (DTOs)**: Manages efficient data transfer between frontend and backend layers

- **Java Database Seeder**: Handles database initialization with starter data for development and testing

### Frontend 
- **Thymeleaf**: Server-side Java template engine
- **HTML, JavaScript, and CSS**
  
### External Integration 
- **TMDB API**: Provides real-time movie data, ratings, and cinema information

### ‚ú® Final Product
Movie Mingle is a web application designed for movie enthusiasts of all tastes. It provides personalized movie recommendations based on user ratings and offers endless opportunities to explore the vast world of cinema using TMDB‚Äôs extensive movie database. Users can effortlessly organize their movie lists into categories such as Watched, To Watch, Favorites, and Rated, making it easier to plan their next movie night. Additionally, the dashboard analytics section allows them to track their viewing activity.

Our final product aligns closely with our initial vision while incorporating enhancements such as API integration for fetching detailed movie information and seeders to populate our database. We also introduced new features, including a Favorites and Rated movies list and Google OAuth integration, elevating the user experience.
  
### üöÄ Functional Requirements  

#### üë§ User Management  
- Users must be able to **create an account** using email and password and log in securely.  
- Users must be able to **view their profile**, including their movie lists:  
  - üéûÔ∏è *Watched*  
  - üìå *To Watch*  
  - ‚ù§Ô∏è *Favourite*  
  - ‚≠ê *Rated*  
- Users must be able to **edit their profile** and update their movie ratings.  
- Users must be able to **view a personalized dashboard** based on their watched movies.  

---

#### üé• Movie Management  
- Users must be able to view a **list of top-watched and top-rated movies**.  
- Users must be able to access **detailed information about a movie**, including:  
  - üé≠ Title  
  - üé¨ Genre  
  - üìù Description  
  - ‚≠ê Ratings  
  - üé≠ Cast  

---

#### üîÑ User Interactions  
- Users must be able to **add movies** to their personal lists:  
  - üìå *Watch*  
  - ‚ù§Ô∏è *Favourite*  
  - ‚≠ê *Rated*  
  - ‚è≥ *To Watch*  
- Users must be able to **rate a movie** on a scale of **1-10 stars**.  

---

#### üîç Search & Navigation  
- Users must be able to **search for a movie by title**.  
- Users must be able to **filter movies by genres** (e.g., Fiction, Comedy).  

### üîí Non-Functional Requirements  

#### üîê Security  
- The system must support **user authentication** and guarantee that passwords are **securely managed**, utilizing at least basic encryption or hashing techniques.  

---

#### ‚ö° Performance  
- The application should deliver a **responsive experience**, ensuring that **movie searches** and **list loading** happen with minimal delay.  

---

#### üåç Compatibility  
- The system should be **optimized for Google Chrome and Microsoft Edge**, with no requirement for adaptation to other browsers.  



## üõ†Ô∏è QA  

## üõ°Ô∏è Security Analysis 
MovieMingle implements **Spring Security** for authentication, supporting both **email/password login** and **OAuth2 (Google)**. Password reset is secured via **token-based validation**. This analysis aligns with **OWASP Top 10** security risks, identifying key risks and recommending improvements to enhance overall system security.

---

### üîë Password Security  
‚úî **Strengths:**  
- Uses **BCrypt hashing** for strong password protection.  
- Password validation enforces **regular expressions** to prevent weak passwords.  

‚ö° **Improvements:**  
- Set **BCrypt cost factor to 12+** to enhance brute-force resistance.  
- Implement a **password policy validator** enforcing stricter password complexity.  

---

### üìß Email Verification Tokens  
‚úî **Strengths:**  
- Email verification is required before account activation.  
- Tokens are **single-use** and **auto-deleted upon verification**.  

‚ö° **Improvements:**  
- **Schedule clean-up of expired tokens** to optimize database performance.  
- **Enforce token expiration** (e.g., **24 hours**) to limit prolonged access.  

---

### üîÑ Password Reset Mechanism Security  
‚úî **Strengths:**  
- Password reset is **token-based** and secured via email verification.  
- Reset tokens are **deleted immediately after use**, preventing reuse.  

‚ö° **Improvements:**  
- **Set token expiration** (e.g., **30 min**) to mitigate unauthorized use.  
- **Ensure only one active reset token per user** at any time.  

---

### üåê OAuth2 Authentication (Google)  
‚úî **Strengths:**  
- OAuth2 login is integrated, ensuring a seamless authentication process.  
- The application **extracts and verifies the user's email** as a unique identifier.  

‚ö† **Observations:**  
- Authentication **fails** if the OAuth2 provider **does not return an email**.  

‚ö° **Improvements:**  
- Add **fallback handling** for cases where an email attribute is missing.  

---

### üõë CSRF Protection  
‚úî **Strength:** **CSRF is enabled** for user authentication and account-related actions. 

---


### üöß Brute Force Protection  
‚ö† **Observations:**  
- No **rate limiting** for login attempts, making the system vulnerable to brute force attacks.  
- No **temporary account lockout mechanism** for repeated authentication failures.  

üîí **Recommendations:**  
- Implement **rate limiting** (e.g., **5 attempts per 10 sec**) and **temporary account lockout** after multiple failures.  
- Introduce a **captcha challenge** (e.g., Google reCAPTCHA) for flagged login attempts.  

---

### üîë Role-Based Access Control (RBAC)  
‚ö† **Observation:**  
- **No Role-Based Access Control (RBAC)** is currently implemented, meaning all authenticated users have the same access level.  

üîí **Recommendations:**  
- Introduce **RBAC** to restrict access to administrative or privileged functionalities.  
- Define **user roles** such as `USER`, `ADMIN`, and potentially `MODERATOR` to enforce **least privilege principles**.  
- Implement **Spring Security role-based authorization** to control access to specific endpoints.  

---
 

### üîê API Security  
‚úî **Strengths:**  
- API endpoints that modify user data require authentication.  

‚ö† **Observations:**  
- **All TMDb API endpoints are publicly accessible**, increasing exposure.  
- **No rate limiting on public API requests**, making them vulnerable to excessive usage.  

üîí **Recommendations:**  
- Apply **rate limiting** on public endpoints to prevent abuse.  
- Implement **IP-based throttling** for frequently requested APIs. 

---

### üö® Denial of Service (DoS) Protection  
‚úî **Strengths:**  
- Uses efficient API design to handle multiple requests.  

‚ö† **Observations:**  
- **No request rate limiting** on login and token generation endpoints.  
- **Excessive API calls** could degrade performance.  

üîí **Recommendations:**  
- Implement **IP-based request limiting** to prevent abusive behavior.  
- Introduce **caching mechanisms** for frequently requested responses.  
- Monitor **high request spikes** to detect potential DoS attacks.


---
### üîê SQL Injection Protection  
‚úî **Strengths:**  
- **Hibernate (JPA)** is used for database interactions, which **prevents SQL Injection** by utilizing **prepared statements** internally.  
- Queries are executed using **JPQL (Java Persistence Query Language)**, ensuring safe query execution without direct SQL manipulation.  
- No **native queries** are used, eliminating risks from manual string concatenation in database queries.  

‚ö† **Potential Risks:**  
- While Hibernate prevents direct SQL Injection, **improper query construction** (e.g., dynamic query building with concatenation in JPQL) could still pose a risk.

---
### üîí HTTPS Enforcement  
‚ö† **Observations:**  
- The application currently runs on **localhost**, so HTTPS enforcement is not required in development stage.  

üîí **Recommendations for Production Deployment:**  
- Ensure **HTTPS is enforced** for all external requests when deploying to a live environment.  
---

## üöÄ CI/CD


     




